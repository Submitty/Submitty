<div class="content">
    <h1>SQL Toolbox</h1>

    <div>
        Use this toolbox to run a SELECT query. You cannot run any other type of query, and may only run a single query at a time.
        You can download a CSV of the query results. Must Run Query before you can Download.
        <br /><br />

        <div>
            <div class="database-schema">
                <button id="sql-database-schema" class="btn btn-primary">Database Schema Documentation</button>
                <div id="sql-database-schema-content" hidden>
                    <p>Click on each table to see columns</p>
                    <ul style="margin-left: 30px;">
                        {% for table in tables %}
                            <li><a class="sql-database-table">{{ table.getName }}</a>
                                <div class="sql-database-columns" hidden>
                                    <ul style="margin-left: 15px">
                                        {% for column in table.getColumns %}
                                            <li>{{ column.getName }} - {{ column.getType }}</li>
                                        {% endfor %}
                                    </ul>

                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            
            {# separate from top div #}
            {% include 'Vue.twig' with {
                'component': 'displaySQLQueries',
                'style': 'margin-top: 10px;'
            } %}
        </div>
        <br>
        <textarea id="toolbox-textarea" name="sql" style="margin-bottom: 2px;" aria-label="Input SQL"></textarea>
        <br />
        <div id="query-results-buttons">
            <button id='run-sql-btn' class="btn btn-primary">Run Query</button>
            
            {# need display inline to get rid of div line wrap #}
            {% include 'Vue.twig' with {
                'component': 'saveSQLQueries',
                'style': 'display: inline;'
            } %}
            <button id='download-sql-btn' class="btn btn-primary" disabled>Download CSV</button>
        </div>
    </div>

    <div>
      <h2>Query Results</h2>
      <div id='query-results-error' class='red-message'><pre id='query-results-error-message'></pre></div>
      <table id="query-results" class="table table-striped mobile-table">
      </table>
    </div>
</div>
