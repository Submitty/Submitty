{% extends "Gradeable.twig" %}

{% block header_content %}
    {# This div acts as a flag to signal the js to use instructor edit mode #}
    <div id="edit-gradeable-instructor-flag" hidden></div>
{% endblock %}

{% block components_block %}
    {% for component in gradeable.components %}
        <div class="component-container edit-component-container
            {% if component.peer_component %} peer-component-container{% endif %}
            {% if component.curve_component %} curve-component-container{% endif %}"
            {% if component.peer_component %} data-peer-testid="peer-component-container"{% endif %}
            {% if component.curve_component %} data-curve-testid="curve-component-container"{% endif %}>
            {% include "EditComponent.twig" with {
                'precision': gradeable.precision,
                'show_mark_list': false,
                'peer_component' : component.peer_component,
                'curve_component' : component.curve_component,
                'itempool_available' : itempool_available,
                'itempool_options': itempool_options,
                'gradeable': gradeable
            } %}
        </div>
    {% endfor %}
{% endblock %}

{% block footer_content %}
    <input type="button" class="btn btn-primary key_to_click" tabindex="0" value="Add New Component" onclick="onAddComponent(false, false)" />
    <input type="button" class="btn peer-button key_to_click" tabindex="0" value="Add New Peer Component" onclick="onAddComponent(true, false)" data-testid="add-new-peer-component" />
    <input type="button" class="btn curve-button key_to_click" tabindex="0" value="Add New Curve Component" onclick="onAddComponent(false, true)"  />
    <a href="{{ export_components_url }}" class="btn btn-default">Export Components</a>
    <label for="import-components-file" class="btn btn-default">Import Components</label>
    <input id="import-components-file" type="file" class="btn ignore" onchange="importComponentsFromFile();" style="display: none;"/>
{% endblock %}
